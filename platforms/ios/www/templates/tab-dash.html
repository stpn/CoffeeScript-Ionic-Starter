<ion-view view-title="Dash">
<ion-top-menu ng-controller="TopMenuCtrl" id ="ionTopMenu" >
    <ion-scroll style="width:100%;height:100%">
        <div class="list" id ="building_menu_wrap">
            <!--             <button class="button button-light" ng-click="setActiveBuilding(building.name)">
                {{building.name}}
            </button>
 -->

   <!-- <div show-data template="{{getTemplate(building.name)}}" create-control=building.name></div> -->

                

        <ng-include ng-repeat="building in buildings" src="templatePath" ng-model=building></ng-include>


<!-- 

 
            <svg version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="115.6px" height="56.2px" viewBox="0 0 115.6 56.2" enable-background="new 0 0 115.6 56.2" xml:space="preserve" create-control=building.name>
                <path fill="none" stroke="#999999" stroke-width="1.283" stroke-miterlimit="10" d="M115,0.6v54.9L1,55.4L23.3,0.6H115z" />
                <polygon fill="none" stroke="#999999" stroke-width="1.283" stroke-miterlimit="10" points="-1,66.1 -30.1,125 115,125 115,66.1 " />
                <polygon fill="none" stroke="#999999" stroke-width="1.283" stroke-miterlimit="10" points="261.5,0.6 261.5,103.6 305.9,103.6 
    305.9,86.9 392.8,86.9 392.8,0.6 " />
                <rect x="125.9" y="0.6" fill="none" stroke="#999999" stroke-width="1.283" stroke-miterlimit="10" width="54" height="124.9" />
                <rect x="190.4" y="0.6" fill="none" stroke="#999999" stroke-width="1.283" stroke-miterlimit="10" width="59.7" height="82.9" /> 
            </svg> -->
        </div>
    </ion-scroll>
    <div class="buttons">
        <div ng-click="toggleTopMenu()" class="empty">
            <div class="bevel">
                <div>Select Building</div>
            </div>
        </div>
        <!-- <button class="button button-icon icon ion-navicon" ng-click="toggleTopMenu()"></button> -->
    </div>
</ion-top-menu>

    <ion-content id ="main_menu">
        <ion-list>
            <div ng-repeat='(nam, factory) in presentations' class ="accordion_container">
                <ion-item class="item-stable" ng-click="toggleGroup(factory)" ng-class="{active: isGroupShown(factory)}">
                    <i class="icon" ng-class="isGroupShown(factory) ? 'ion-minus' : 'ion-plus'"></i> &nbsp; {{nam}}
                </ion-item>
                <div class="row responsive-md item-accordion gallery" ng-show="isGroupShown(factory)" ng-repeat="model in factory | buildingFilter: activeBuilding.name" ng-if="$index % 4 === 0">
                    <ion-item class="col cust_col" ng-if="$index < factory.length" href="#/tab/presentations/{{model.id}}">
                        <img ng-src="{{factory[$index].image}}" width="100%" height="100%" />
                        <div class="image_name" ng-if="factory[$index].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 1 < factory.length" href="#/tab/presentations/{{factory[$index + 1].id}}">
                        <img ng-src="{{factory[$index + 1].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index + 1].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 2 < factory.length" href="#/tab/presentations/{{factory[$index + 2].id}}">
                        <img ng-src="{{factory[$index + 2].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index + 2].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 3 < factory.length" href="#/tab/presentations/{{factory[$index + 3].id}}">
                        <img ng-src="{{factory[$index + 3].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index + 3].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                </div>
            </div>


            <div ng-repeat='(nam, factory) in factories' class ="accordion_container">
                <ion-item class="item-stable" ng-click="toggleGroup(factory)" ng-class="{active: isGroupShown(factory)}">
                    <i class="icon" ng-class="isGroupShown(factory) ? 'ion-minus' : 'ion-plus'"></i> &nbsp; {{nam}}
                </ion-item>
                <div class="row responsive-md item-accordion gallery" ng-show="isGroupShown(factory)" ng-repeat="model in factory | buildingFilter: activeBuilding.name" ng-if="$index % 4 === 0">
                    <ion-item class="col cust_col" ng-if="$index < factory.length" href="#/tab/{{nam.toLowerCase()}}/{{model.id}}">
                        <img ng-src="{{factory[$index].image}}" width="100%" height="100%" />
                        <div class="image_name" ng-if="factory[$index].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 1 < factory.length">
                        <img ng-src="{{factory[$index + 1].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 2 < factory.length">
                        <img ng-src="{{factory[$index + 2].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                    <ion-item class="col cust_col" ng-if="$index + 3 < factory.length">
                        <img ng-src="{{factory[$index + 3].image}}" width="100%" />
                        <div class="image_name" ng-if="factory[$index].name !== undefined">
                            {{factory[$index].name}}
                        </div>
                    </ion-item>
                </div>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
