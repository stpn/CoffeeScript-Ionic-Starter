<ion-view view-title="Dash">
    <ion-content>
        <ion-list>
            <div ng-repeat='(nam, factory) in factories'>
                <ion-item class="item-stable" ng-click="toggleGroup(factory)" ng-class="{active: isGroupShown(factory)}">
                    <i class="icon" ng-class="isGroupShown(factory) ? 'ion-minus' : 'ion-plus'"></i> &nbsp; {{nam}}
                </ion-item>
                <!--               <ion-item class="item-accordion" ng-repeat="model in factory | buildingFilter: activeBuilding.name" ng-show="isGroupShown(factory)">
                    <img ng-src={{model.image}}/>
                </ion-item> -->
                <!--                 <ion-scroll direction="xy" class="item-accordion image_cont" ng-show="isGroupShown(factory)" overflow-scroll="true">
                    <img ng-repeat="model in factory | buildingFilter: activeBuilding.name" ng-src={{model.image}} width='500px' />
                </ion-scroll> -->
<!--                                   <div class="row responsive-md item-accordion gallery" ng-show="isGroupShown(factory)" >
                    <div class="col col-25" ng-repeat="model in factory | buildingFilter: activeBuilding.name">
                        <img   ng-src={{model.image}}  width="500px" />
                    </div>
                </div> -->
    
                <!--                 <ion-item collection-repeat="model in factory | buildingFilter: activeBuilding.name" ng-show="isGroupShown(factory)" item-width="25%" style="padding:0px;" class="col col-25" class="gallery">
                    <a ng-href="#">
                        <div style="background-image:url({{model.image}});
      background-repeat:no-repeat;
      background-size:contain; 
      width:100%;
      height:0;
      padding-top:100%">
                        </div>
                    </a>
                </ion-item >
 -->
                <div class="row responsive-md item-accordion gallery" ng-show="isGroupShown(factory)"  ng-repeat="model in factory | buildingFilter: activeBuilding.name" ng-if="$index % 4 === 0">
                    <div class="col cust_col" ng-if="$index < factory.length">
                        <img ng-src="{{factory[$index].image}}" width="100%" height = "100%" />
                    </div>
                    <div class="col cust_col" ng-if="$index + 1 < factory.length">
                        <img ng-src="{{factory[$index + 1].image}}" width="100%"/>
                    </div>
                    <div class="col cust_col" ng-if="$index + 2 < factory.length">
                        <img ng-src="{{factory[$index + 2].image}}" width="100%" />
                    </div>
                    <div class="col cust_col" ng-if="$index + 3 < factory.length">
                        <img ng-src="{{factory[$index + 3].image}}" width="100%" />
                    </div>
                </div>

        </ion-list>
    </ion-content>
</ion-view>
